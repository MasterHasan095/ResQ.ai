<!DOCTYPE html>
<html>
  <body>
    <h2>ResQ.ai WebSocket Test</h2>
    <pre id="log"></pre>

    <script>
      const logEl = document.getElementById("log");
      const log = (msg) => {
        logEl.textContent += msg + "\n";
      };

      const ws = new WebSocket("ws://localhost:8000/ws/falls");

      ws.onopen = () => log("âœ… Connected to ws://localhost:8000/ws/falls");
      ws.onmessage = (event) => log("ðŸ“© Message: " + event.data);
      ws.onerror = (err) => log("âŒ Error: " + JSON.stringify(err));
      ws.onclose = () => log("ðŸ”Œ Connection closed");

      // Optional: send something so backend's receive_text() returns
      ws.onopen = () => {
        log("âœ… Connected");
        ws.send("hello from browser");
      };
    </script>
  </body>
</html>
